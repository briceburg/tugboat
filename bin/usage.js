// Generated by CoffeeScript 1.8.0
var Docke, Tugboat, args, cmds, command, commands, tugboat, usage, usage_error;

require('colors');

commands = require('./commands');

Tugboat = require('../src/tugboat');

Docke = require('docke');

usage = "ðŸ‘¾\n\n  Usage: " + 'tug'.cyan + " command parameters\n";

usage_error = (function(_this) {
  return function(message) {
    console.error();
    console.error(("  " + message).magenta);
    console.error();
    console.error(usage);
    return process.exit(1);
  };
})(this);

args = process.argv.slice(2);

tugboat = new Tugboat(args);

if (args.length === 0) {
  console.error(usage);
  return commands.status(tugboat);
}

cmds = {
  ps: function() {
    if (args.length === 0) {
      return commands.ps(tugboat);
    }
    return usage_error('tug ps requires no arguments');
  },
  test: function() {
    if (args.length === 0) {
      return commands.test(tugboat);
    }
    return usage_error('tug test requires no arguments');
  }
};

command = args[0];

args.shift();

if (cmds[command] != null) {
  return cmds[command]();
}

usage_error("" + command + " is not a known docker command");
