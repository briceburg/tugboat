consulsingleserver:
  build: ./consulsingleserver
  ports:
  - "8300:8300"
  - "8301:8301"
  - "8301:8301/udp"
  - "8302:8302"
  - "8302:8302/udp"
  - "8400:8400"
  - "8500:8500"
  - "8600:8600"
  - "8600:8600/udp"
  dns: 127.0.0.1
  volumes:
  - configuration/consul:/configuration/consul
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json
  - share:/share

harmony:
  image: webops_harmony
  ports:
  - "80:80"
  dns: 127.0.0.1
  volumes:
  - share:/share
  - configuration/harmony/configuration.js:/home/harmony/configuration.js
  - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json

localharmony:
  image: webops_harmony
  ports:
  - "80:80"
  dns: 127.0.0.1
  volumes:
  - share:/share
  - configuration/localharmony/configuration.js:/home/harmony/configuration.js
  - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json

elasticsearch:
  image: webops_elasticsearch
  ports:
  - "9200:9200"
  dns: 127.0.0.1
  volumes:
  - share:/share
  - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json

logstash:
  image: webops_logstash
  dns: 127.0.0.1
  volumes:
  - share:/share
  - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json

# accounts:
#   image: webops_accounts
#   dns: 127.0.0.1
#   volumes:
#   - share:/share
#   - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
#   - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json

developer:
  image: webops_developer
  dns: 127.0.0.1
  volumes:
  - share:/share
  - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json

forecast:
  image: webops_forecast
  dns: 127.0.0.1
  volumes:
  - share:/share
  - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json

hindcast:
  image: webops_hindcast
  dns: 127.0.0.1
  volumes:
  - share:/share
  - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json

identitymanagement:
  image: webops_identitymanagement
  dns: 127.0.0.1
  volumes:
  - share:/share
  - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json

portsafetyforecast:
  image: webops_portsafetyforecast
  dns: 127.0.0.1
  volumes:
  - share:/share
  - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json

mops:
  image: webops_mops
  dns: 127.0.0.1
  volumes:
  - share:/share
  - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json

uiassets:
  image: webops_uiassets
  dns: 127.0.0.1
  volumes:
  - share:/share
  - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json

underkeelclearance:
  image: webops_underkeelclearance
  dns: 127.0.0.1
  volumes:
  - share:/share
  - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json

usermanagement:
  image: webops_usermanagement
  dns: 127.0.0.1
  volumes:
  - share:/share
  - configuration/consul/configuration/join.json:/home/consul/configuration/join.json
  - configuration/consul/configuration/datacenter.json:/home/consul/configuration/datacenter.json